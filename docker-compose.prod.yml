# Production overrides for docker-compose.yml
# Usage: docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d

services:
  user:
    environment:
      NODE_ENV: production

  chat:
    environment:
      NODE_ENV: production

  notification:
    environment:
      NODE_ENV: production

  frontend:
    environment:
      NODE_ENV: production

  # Production nginx with SSL certificate volumes
  nginx:
    volumes:
      # Let's Encrypt certificates and ACME challenge files
      # These are generated by init-letsencrypt.sh on VPS
      - ./certbot/conf:/etc/letsencrypt:ro
      - ./certbot/www:/var/www/certbot:ro
